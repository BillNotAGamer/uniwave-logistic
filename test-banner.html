<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Section</title>
    <style>
        .uw_section_container {
            width: 100%;
            min-height: 100vh;
            background: url(./image/home/section_about_us_home_bg.png) no-repeat center/cover;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 3rem 2rem;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
            color: #fff;
        } 
        .uw_content_wrapper {
            display: flex;
            align-items: center;
            z-index: 1;
            flex-wrap: wrap;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        .uw_image_holder {
            width: 100%;
            max-width: 400px;
            height: 400px;
            background: #ccc;
            border-radius: 20px;
            flex-shrink: 0;
        }

        .uw_image_holder img {
            width: 100%;
            max-width: 400px;
            height: 400px;
            background: #ccc;
            border-radius: 20px;
            flex-shrink: 0;
        }
        
        .uw_text_block {
            flex: 1;
            min-width: 300px;
        }
        .uw_text_block h2 {
            font-size: clamp(1.8rem, 5vw, 2.2rem);
            margin-bottom: 1.5rem;
        }
        .uw_text_block p {
            font-size: clamp(1rem, 3vw, 1.1rem);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }
        .uw_text_block .uw_subtext_group {
            font-size: clamp(0.85rem, 2.5vw, 0.9rem);
            opacity: 0.8;
            margin-bottom: 1.5rem;
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }
        .uw_subtext_group div {
            flex: 1;
            min-width: 200px;
        }
        .uw_button_group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        .uw_action_btn {
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            font-size: clamp(0.9rem, 2.5vw, 1rem);
            transition: background 0.3s;
        }

        .uw_btn_direct {
            background: transparent;
            border: 2px solid #3498db;
            color: #3498db;
        }
        .uw_btn_direct:hover {
            background: #3498db;
            color: #fff;
        }
        .uw_stats_container {
            display: flex;
            justify-content: space-between;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            flex-wrap: wrap;
            gap: 1rem;
        }
        .uw_stat_item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            width: 100%;
            max-width: 280px;
            text-align: center;
            backdrop-filter: blur(10px);
            flex: 1;
            min-width: 200px;
        }
        .uw_stat_item .uw_stat_icon {
            font-size: clamp(1.8rem, 5vw, 2rem);
            margin-bottom: 0.5rem;
        }
        .uw_stat_item h3 {
            font-size: clamp(1.8rem, 5vw, 2rem);
            margin: 0.5rem 0;
        }
        .uw_stat_item p {
            font-size: clamp(0.9rem, 2.5vw, 1rem);
            opacity: 0.8;
        }

        /* Media Queries for smaller screens */
        @media (max-width: 768px) {
            .uw_section_container {
                padding: 2rem 1rem;
            }
            .uw_content_wrapper {
                flex-direction: column;
                align-items: flex-start;
            }
            .uw_image_holder {
                max-width: 100%;
                height: 250px;
            }

            .uw_image_holder img {
                max-width: 100%;
                height: 250px;
            }

            .uw_text_block {
                min-width: 100%;
            }
            .uw_subtext_group {
                flex-direction: column;
                gap: 1rem;
            }
            .uw_stats_container {
                flex-direction: column;
                align-items: center;
            }
            .uw_stat_item {
                max-width: 100%;
            }
        }

        @media (max-width: 480px) {
            .uw_section_container {
                padding: 1.5rem 0.5rem;
            }
            .uw_action_btn {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="uw_section_container">
        <div class="uw_curve_element"></div>
        <div class="uw_curve_element"></div>
        <div class="uw_content_wrapper">
            <div class="uw_image_holder"><img src="./image/home/image_staff_team_about_us.png" alt=""></div>
            <div class="uw_text_block">
                <h2>Về chúng tôi</h2>
                <p id="intro-text" class="uw_intro_text"></p>
                <div class="uw_subtext_group">
                    <div>
                        <h3>Giá trị cốt lõi</h3> 
                        Trở thành doanh nghiệp logistics hàng đầu Đông Nam Á, tiên phong ứng dụng công nghệ để kết nối thương mại và tạo giá trị bền vững cho khách hàng.
                    </div>
                    <div>
                        <h3>Tầm nhìn và sứ mệnh</h3>
                        Sứ mệnh của chúng tôi là cung cấp giải pháp logistics thông minh, giúp tối ưu vận chuyển và nâng cao sức cạnh tranh, góp phần kết nối hàng hóa toàn cầu.
                    </div>
                </div>
                <div class="uw_button_group">
                    <a href="about.html" class="uw_action_btn uw_btn_direct">Tìm hiểu thêm</a>
                </div>
            </div>
        </div>
        <div class="uw_stats_container">
            <div class="uw_stat_item">
                <h3 data-target="100">0</h3>
                <p>CBNV</p>
            </div> 
            <div class="uw_stat_item">
                <h3 data-target="20">0</h3>
                <p>Điểm giao nhận</p>
            </div>
            <div class="uw_stat_item">
                <h3 data-target="50">0</h3>
                <p>Bưu cục</p>
            </div>
            <div class="uw_stat_item">
                <h3 data-target="50" data-prefix="+">0</h3>
                <p>Quốc gia</p>
            </div>
        </div>
    </div>
    <script>
    // Văn bản cần đánh chữ
    const textToType = "UniWave chuyên cung cấp các dịch vụ logistics tối ưu, linh hoạt theo nhu cầu thực tế của doanh nghiệp, được triển khai bởi đội ngũ chuyên gia giàu kinh nghiệm.";
    
    // Hàm định dạng số với dấu phân cách hàng nghìn
    function formatNumber(number, prefix = '') {
      return prefix + Math.floor(number).toString().replace(/\B(?=(\d{3})+(?!\d))/g, '.');
    }

    // Hàm tạo hiệu ứng đếm số
    function startCounter(element, target, duration = 3000) {
      let start = 0;
      const increment = target / (duration / 16); // Tính bước tăng dựa trên 60fps (~16ms mỗi frame)
      const prefix = element.dataset.prefix || '';
      
      function update() {
        start += increment;
        if (start >= target) {
          element.textContent = formatNumber(target, prefix);
          return;
        }
        element.textContent = formatNumber(start, prefix);
        requestAnimationFrame(update);
      }
      requestAnimationFrame(update);
    }

    // Hàm tạo hiệu ứng đánh chữ
    function startTyping(element, text, speed = 50) {
      let index = 0;
      element.classList.add('uw_typing_effect');

      function type() {
        if (index < text.length) {
          element.textContent = text.slice(0, index + 1);
          index++;
          setTimeout(type, speed);
        } else {
          element.classList.remove('uw_typing_effect'); // Xóa con trỏ khi hoàn tất
        }
      }
      type();
    }

    // Sử dụng IntersectionObserver để phát hiện khi section xuất hiện
    const section = document.querySelector('.uw_section_container');
    const counters = document.querySelectorAll('.uw_stat_item h3');
    const introText = document.querySelector('#intro-text');
    let hasStarted = false; // Đảm bảo chỉ chạy một lần

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting && !hasStarted) {
            hasStarted = true; // Đánh dấu đã chạy
            // Kích hoạt hiệu ứng đánh chữ
            startTyping(introText, textToType);
            // Kích hoạt hiệu ứng đếm số
            counters.forEach((counter) => {
              const target = parseInt(counter.dataset.target);
              startCounter(counter, target);
            });
            observer.disconnect(); // Ngắt observer sau khi chạy
          }
        });
      },
      { threshold: 0.5 } // Kích hoạt khi 50% section xuất hiện
    );

    observer.observe(section);
  </script>
</body>
</html>